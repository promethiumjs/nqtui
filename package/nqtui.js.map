{"mappings":"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","sources":["src/nqtui.ts","src/Component.js","src/h.js","src/adaptations/adaptations.js","src/queueRevertChangedToTrue.js","src/adaptations/adaptation.js","src/adaptations/adaptState.js","src/adaptations/commonSetStateFunctionality.js","src/adaptations/adaptGetState.js","src/adaptations/adaptRef.js","src/adaptations/adaptMountFunctions.js","src/adaptations/adaptEffect.js","src/adaptations/guardsChanged.js","src/adaptations/adaptInstantEffect.js","src/adaptations/adaptInvocationEffect.js","src/adaptations/adaptMemo.js","src/adaptations/adaptCallback.js","src/adaptations/adaptFunction.js"],"sourcesContent":["import Component from \"./Component.js\";\nimport h from \"./h.js\";\nimport { html } from \"lit-html\";\nimport { classMap } from \"lit-html/directives/class-map.js\";\nimport { styleMap } from \"lit-html/directives/style-map.js\";\nimport { guard } from \"lit-html/directives/guard.js\";\nimport { cache } from \"lit-html/directives/cache.js\";\nimport { repeat } from \"lit-html/directives/repeat.js\";\nimport { live } from \"lit-html/directives/live.js\";\nimport { ifDefined } from \"lit-html/directives/if-defined.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { createRef } from \"lit-html/directives/ref.js\";\nimport { until } from \"lit-html/directives/until.js\";\nimport { asyncAppend } from \"lit-html/directives/async-append.js\";\nimport { asyncReplace } from \"lit-html/directives/async-replace.js\";\nimport {\n  adaptStore,\n  releaseCurrentStore,\n  detonateStore,\n} from \"./adaptations/adaptations.js\";\nimport adaptation from \"./adaptations/adaptation.js\";\nimport adaptState from \"./adaptations/adaptState.js\";\nimport adaptGetState from \"./adaptations/adaptGetState.js\";\nimport adaptRef from \"./adaptations/adaptRef.js\";\nimport {\n  adaptMount,\n  adaptInstantMount,\n  adaptInvocationMount,\n} from \"./adaptations/adaptMountFunctions.js\";\nimport adaptEffect from \"./adaptations/adaptEffect.js\";\nimport adaptInstantEffect from \"./adaptations/adaptInstantEffect.js\";\nimport adaptInvocationEffect from \"./adaptations/adaptInvocationEffect.js\";\nimport adaptMemo from \"./adaptations/adaptMemo.js\";\nimport adaptCallback from \"./adaptations/adaptCallback.js\";\nimport adaptFunction from \"./adaptations/adaptFunction.js\";\n\nexport default Component;\nexport {\n  h,\n  html,\n  classMap,\n  styleMap,\n  guard,\n  cache,\n  repeat,\n  live,\n  ifDefined,\n  ref,\n  createRef,\n  until,\n  asyncAppend,\n  asyncReplace,\n  adaptStore as adapt,\n  releaseCurrentStore as release,\n  detonateStore as detonate,\n  adaptation,\n  adaptState,\n  adaptGetState,\n  adaptRef,\n  adaptMount,\n  adaptInstantMount,\n  adaptInvocationMount,\n  adaptEffect,\n  adaptInstantEffect,\n  adaptInvocationEffect,\n  adaptMemo,\n  adaptCallback,\n  adaptFunction,\n};\n","import { render, html } from \"lit-html\";\nimport h from \"./h\";\nimport {\n  releaseCurrentStore,\n  getCurrentStore,\n  getCurrentStoreId,\n  renderComponent,\n} from \"./adaptations/adaptations\";\n\nexport default class Component {\n  static createRoot(component, props) {\n    //check whether or not \"renderContainer\" is a string and handle it\n    //accordingly.\n    if (\n      typeof props.renderContainer === \"string\" ||\n      props.renderContainer instanceof String\n    )\n      props.renderContainer = document.querySelector(props.renderContainer);\n\n    const renderComponent = () =>\n      render(\n        html`${h(component, props)}`,\n        props.renderContainer,\n        props.renderOptions\n      );\n\n    //queue microtask to render the component to enable all extensions to run first.\n    queueMicrotask(renderComponent);\n\n    //release the reference to the current store.\n    releaseCurrentStore();\n\n    //return \"renderComponet\" function to allow re-rendering of whole root\n    //component tree.\n    return renderComponent;\n  }\n\n  static use(extension) {\n    extension.addAdaptationMethods({\n      getCurrentStore,\n      getCurrentStoreId,\n      renderComponent,\n    });\n  }\n}\n","import { AsyncDirective, directive } from \"lit-html/async-directive.js\";\nimport { adaptStore, detonateStore } from \"./adaptations/adaptations\";\nimport queueRevertChangedToTrue from \"./queueRevertChangedToTrue\";\nimport { noChange } from \"lit-html\";\n\nclass $ extends AsyncDirective {\n  constructor(part) {\n    super(part);\n\n    //boolean flag to enable initialization of the\n    //component in the update method.\n    this.initialization = true;\n  }\n\n  initializeComponent(Component, parent) {\n    this.Component = (props) => {\n      //check \"preventMultipleRenders\" flag to prevent multiple redundant\n      //re-rendering of components.\n      //return component's return value to be rendered.\n      if (this.changed) {\n        this.changed = false;\n        queueRevertChangedToTrue(this);\n\n        //prepare adaptation store for component.\n        adaptStore(this);\n\n        return Component({ parent, ...props });\n      } else {\n        return noChange;\n      }\n    };\n\n    //initialize \"changed\" flag as true.\n    this.changed = true;\n    //prevent re-initialization of component on subsequent renders after\n    //initialization.\n    this.initialization = false;\n  }\n\n  disconnected() {\n    //call pending cleanups and destroy component adaptation store.\n    detonateStore(this);\n  }\n\n  update(part, [Component, props]) {\n    //initialize component on first render\n    if (this.initialization) {\n      this.initializeComponent(Component, part.parentNode);\n    }\n\n    //keep old props to enable reuse when updating the component independently of it's\n    //parent.\n    this.oldProps = props;\n    return this.render(props);\n  }\n\n  render(props) {\n    return this.Component(props);\n  }\n}\n\nconst h = directive($);\n\nexport default h;\n","//use WeakMap to store adaptation stores for more memory efficiency and\n//potentially faster access time for stores.\nconst stores = new WeakMap();\nlet currentStore;\nlet currentStoreId;\n\nfunction adaptStore(storeId) {\n  //create adaptation store if it doesn't exist and add up.\n  if (!stores.has(storeId)) {\n    const store = {\n      currentAdaptationIds: {},\n    };\n\n    stores.set(storeId, store);\n  }\n\n  //prepare adaptation store and its id for access.\n  currentStore = stores.get(storeId);\n  currentStoreId = storeId;\n\n  if (!currentStore.currentAdaptationIdStrings) {\n    currentStore.currentAdaptationIdStrings = \"unset\";\n\n    return;\n  }\n\n  if (currentStore.currentAdaptationIdStrings === \"unset\") {\n    currentStore.currentAdaptationIdStrings = Object.keys(\n      currentStore.currentAdaptationIds\n    );\n  }\n\n  //reset adaptation ids to enable adaptation data to be accessed in the\n  //right order.\n  const currentAdaptationIdStrings = currentStore.currentAdaptationIdStrings;\n  const length = currentStore.currentAdaptationIdStrings.length;\n  for (let i = 0; i < length; i++) {\n    const adaptationIdString = currentAdaptationIdStrings[i];\n    currentStore.currentAdaptationIds[adaptationIdString] = 0;\n  }\n}\n\nfunction getCurrentStore() {\n  return currentStore;\n}\n\nfunction getCurrentStoreId() {\n  return currentStoreId;\n}\n\nfunction getStore(storeId) {\n  return stores.get(storeId);\n}\n\nfunction releaseCurrentStore() {\n  currentStore = null;\n  currentStoreId = null;\n}\n\n//call all pending store cleanups and destroy store.\nfunction detonateStore(storeId) {\n  const currentStore = getStore(storeId);\n\n  if (currentStore.instantCleanups) {\n    currentStore.instantCleanups.forEach(\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\n    );\n  }\n\n  if (currentStore.invocationCleanups) {\n    currentStore.invocationCleanups.forEach(\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\n    );\n  }\n\n  if (currentStore.asyncCleanups) {\n    currentStore.asyncCleanups.forEach(\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\n    );\n  }\n\n  if (currentStore.particleCleanups) {\n    currentStore.particleCleanups.forEach(\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\n    );\n  }\n\n  if (currentStore.derivativeCleanups) {\n    currentStore.derivativeCleanups.forEach(\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\n    );\n  }\n\n  stores.delete(storeId);\n}\n\nconst renderArray1 = [];\nconst renderArray2 = [];\nlet one = true;\n//render associated component when called with store ids of components.\n//when called with store ids of custom adaptations and other non-components,\n//call their update function.\nfunction renderComponent(storeId) {\n  if (one) {\n    renderArray1.push(storeId);\n\n    if (renderArray1.length === 1) {\n      queueMicrotask(() => {\n        one = false;\n\n        renderArray1.forEach((storeId) => {\n          if (storeId.Component) {\n            storeId.setValue(storeId.Component(storeId.oldProps));\n            releaseCurrentStore();\n          } else if (storeId.call) {\n            storeId.call();\n          }\n        });\n\n        renderArray1.length = 0;\n      });\n    }\n  } else {\n    renderArray2.push(storeId);\n\n    if (renderArray2.length === 1) {\n      queueMicrotask(() => {\n        one = true;\n\n        renderArray2.forEach((storeId) => {\n          if (storeId.Component) {\n            storeId.setValue(storeId.Component(storeId.oldProps));\n            releaseCurrentStore();\n          } else if (storeId.call) {\n            storeId.call();\n          }\n        });\n\n        renderArray2.length = 0;\n      });\n    }\n  }\n}\n\nexport {\n  adaptStore,\n  releaseCurrentStore,\n  detonateStore,\n  getCurrentStore,\n  getCurrentStoreId,\n  getStore,\n  renderComponent,\n};\n","const changedArray1 = [];\nconst changedArray2 = [];\nlet one = true;\n\nexport default function queueRevertChangedToTrue(storeId) {\n  if (one) {\n    changedArray1.push(storeId);\n\n    if (changedArray1.length === 1) {\n      queueMicrotask(() => {\n        one = false;\n        changedArray1.forEach((storeId) => (storeId.changed = true));\n        changedArray1.length = 0;\n      });\n    }\n  } else {\n    changedArray2.push(storeId);\n\n    if (changedArray2.length === 1) {\n      queueMicrotask(() => {\n        one = true;\n        changedArray2.forEach((storeId) => (storeId.changed = true));\n        changedArray2.length = 0;\n      });\n    }\n  }\n}\n","import {\n  adaptStore as adapt,\n  releaseCurrentStore as release,\n  detonateStore as detonate,\n} from \"./adaptations\";\n\nfunction adaptation(adaptationObject) {\n  const customAdaptation = {};\n\n  customAdaptation.connect = adaptationObject.connect;\n  customAdaptation.call = () => {\n    adapt(customAdaptation);\n    const returnValue = adaptationObject.call();\n    release();\n\n    return returnValue;\n  };\n  customAdaptation.detonate = () => detonate(customAdaptation);\n\n  return customAdaptation;\n}\n\nexport default adaptation;\n","import { getCurrentStore, getCurrentStoreId } from \"./adaptations\";\nimport commonSetStateFunctionality from \"./commonSetStateFunctionality\";\n\nfunction adaptState(initialStateValue) {\n  const currentStore = getCurrentStore();\n  const currentStoreId = getCurrentStoreId();\n\n  if (currentStore && !currentStore.states) {\n    currentStore.states = [];\n    currentStore.currentAdaptationIds.state = 0;\n  }\n\n  if (currentStore) {\n    if (!(currentStore.currentAdaptationIds.state in currentStore.states)) {\n      const stateValue =\n        typeof initialStateValue == \"function\"\n          ? initialStateValue()\n          : initialStateValue;\n\n      const setStateFunction = (newStateValue, effectArray, ...args) => {\n        const newState =\n          typeof newStateValue == \"function\"\n            ? newStateValue(state[0])\n            : newStateValue;\n\n        if (Object.is(newState, state[0])) return;\n\n        state[0] = newState;\n        commonSetStateFunctionality(effectArray, args, currentStoreId);\n      };\n\n      const state = [stateValue, setStateFunction];\n\n      currentStore.states[currentStore.currentAdaptationIds.state] = state;\n    }\n\n    return currentStore.states[currentStore.currentAdaptationIds.state++];\n  } else {\n    throw new Error(\n      \"adaptState() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nexport default adaptState;\n","import { renderComponent } from \"./adaptations\";\n\nfunction commonSetStateFunctionality(\n  effectArrayOrFunction,\n  args,\n  currentStoreId\n) {\n  if (effectArrayOrFunction) {\n    if (typeof effectArrayOrFunction == \"function\") {\n      effectArrayOrFunction(...args);\n    } else {\n      effectArrayOrFunction.forEach((effect) => {\n        effect === \"render\" || effect === \"update\"\n          ? renderComponent(currentStoreId)\n          : effect(...args);\n      });\n    }\n  } else {\n    renderComponent(currentStoreId);\n  }\n}\n\nexport default commonSetStateFunctionality;\n","import { getCurrentStore, getCurrentStoreId } from \"./adaptations\";\nimport commonSetStateFunctionality from \"./commonSetStateFunctionality\";\n\nfunction adaptGetState(initialStateValue) {\n  const currentStore = getCurrentStore();\n  const currentStoreId = getCurrentStoreId();\n\n  if (currentStore && !currentStore.states) {\n    currentStore.states = [];\n    currentStore.currentAdaptationIds.state = 0;\n  }\n\n  if (currentStore) {\n    if (!(currentStore.currentAdaptationIds.state in currentStore.states)) {\n      const stateValue =\n        typeof initialStateValue == \"function\"\n          ? initialStateValue()\n          : initialStateValue;\n\n      const setStateFunction = (newStateValue, effectArray, ...args) => {\n        const newState =\n          typeof newStateValue == \"function\"\n            ? newStateValue(state[2])\n            : newStateValue;\n\n        if (Object.is(newState, state[2])) return;\n\n        state[2] = newState;\n        commonSetStateFunctionality(effectArray, args, currentStoreId);\n      };\n\n      const state = [() => state[2], setStateFunction, stateValue];\n\n      currentStore.states[currentStore.currentAdaptationIds.state] = state;\n    }\n\n    return currentStore.states[currentStore.currentAdaptationIds.state++];\n  } else {\n    throw new Error(\n      \"adaptGetState() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nexport default adaptGetState;\n","import { getCurrentStore } from \"./adaptations\";\n\nfunction adaptRef(initialRefValue) {\n  const currentStore = getCurrentStore();\n\n  if (currentStore && !currentStore.refs) {\n    currentStore.refs = [];\n    currentStore.currentAdaptationIds.ref = 0;\n  }\n\n  if (currentStore) {\n    if (!(currentStore.currentAdaptationIds.ref in currentStore.refs)) {\n      let ref = {};\n      ref.current = initialRefValue;\n\n      currentStore.refs[currentStore.currentAdaptationIds.ref] = ref;\n    }\n\n    return currentStore.refs[currentStore.currentAdaptationIds.ref++];\n  } else {\n    throw new Error(\n      \"adaptRef() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nexport default adaptRef;\n","import adaptEffect from \"./adaptEffect\";\nimport adaptInstantEffect from \"./adaptInstantEffect\";\nimport adaptInvocationEffect from \"./adaptInvocationEffect\";\n\nfunction adaptMount(fn) {\n  adaptEffect(fn, []);\n}\n\nfunction adaptInstantMount(fn) {\n  adaptInstantEffect(fn, []);\n}\n\nfunction adaptInvocationMount(fn) {\n  adaptInvocationEffect(fn, []);\n}\n\nexport { adaptMount, adaptInstantMount, adaptInvocationMount };\n","import { getCurrentStore } from \"./adaptations\";\nimport guardsChanged from \"./guardsChanged\";\n\nfunction adaptEffect(fn, guards) {\n  const currentStore = getCurrentStore();\n\n  if (currentStore && !currentStore.asyncEffects) {\n    currentStore.asyncEffects = [];\n    currentStore.currentAdaptationIds.asyncEffect = 0;\n  }\n\n  if (currentStore) {\n    if (\n      !(\n        currentStore.currentAdaptationIds.asyncEffect in\n        currentStore.asyncEffects\n      )\n    ) {\n      currentStore.asyncEffects[currentStore.currentAdaptationIds.asyncEffect] =\n        [];\n    }\n\n    let asyncEffectId = currentStore.currentAdaptationIds.asyncEffect;\n    let asyncEffect = currentStore.asyncEffects[asyncEffectId];\n\n    if (guardsChanged(asyncEffect[1], guards)) {\n      asyncEffect[0] = () => {\n        if (currentStore.asyncCleanups) {\n          if (typeof currentStore.asyncCleanups[asyncEffectId] == \"function\") {\n            currentStore.asyncCleanups[asyncEffectId]();\n            currentStore.asyncCleanups[asyncEffectId] = undefined;\n          }\n        }\n\n        if (!currentStore.asyncCleanups) {\n          currentStore.asyncCleanups = [];\n        }\n\n        currentStore.asyncCleanups[asyncEffectId] = fn();\n      };\n\n      addAsyncEffect(asyncEffect[0]);\n      asyncEffect[0] = null;\n      asyncEffect[1] = guards;\n    }\n\n    currentStore.currentAdaptationIds.asyncEffect++;\n  } else {\n    throw new Error(\n      \"adaptEffect() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nconst asyncEffectAndCleanupArray1 = [];\nconst asyncEffectAndCleanupArray2 = [];\nlet one = true;\n\nfunction addAsyncEffect(effect) {\n  if (one) {\n    asyncEffectAndCleanupArray1.push(effect);\n\n    if (asyncEffectAndCleanupArray1.length === 1) {\n      setTimeout(() => {\n        one = false;\n        asyncEffectAndCleanupArray1.forEach((effect) => effect());\n        asyncEffectAndCleanupArray1.length = 0;\n      });\n    }\n  } else {\n    asyncEffectAndCleanupArray2.push(effect);\n\n    if (asyncEffectAndCleanupArray2.length === 1) {\n      setTimeout(() => {\n        one = true;\n        asyncEffectAndCleanupArray2.forEach((effect) => effect());\n        asyncEffectAndCleanupArray2.length = 0;\n      });\n    }\n  }\n}\n\nexport default adaptEffect;\n","function guardsChanged(guards1, guards2) {\n  if (!guards1 || !guards2) {\n    return true;\n  }\n\n  if (guards1.length !== guards2.length) {\n    return true;\n  }\n\n  let guardLength = guards1.length;\n  for (let i = 0; i < guardLength; i++) {\n    if (!(guards1[i] === guards2[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport default guardsChanged;\n","import { getCurrentStore } from \"./adaptations\";\nimport guardsChanged from \"./guardsChanged\";\n\nfunction adaptInstantEffect(fn, guards) {\n  const currentStore = getCurrentStore();\n\n  if (currentStore && !currentStore.instantEffects) {\n    currentStore.instantEffects = [];\n    currentStore.currentAdaptationIds.instantEffect = 0;\n  }\n\n  if (currentStore) {\n    if (\n      !(\n        currentStore.currentAdaptationIds.instantEffect in\n        currentStore.instantEffects\n      )\n    ) {\n      currentStore.instantEffects[\n        currentStore.currentAdaptationIds.instantEffect\n      ] = [];\n    }\n\n    let instantEffectId = currentStore.currentAdaptationIds.instantEffect;\n    let instantEffect = currentStore.instantEffects[instantEffectId];\n\n    if (guardsChanged(instantEffect[1], guards)) {\n      instantEffect[0] = () => {\n        if (currentStore.instantCleanups) {\n          if (\n            typeof currentStore.instantCleanups[instantEffectId] == \"function\"\n          ) {\n            currentStore.instantCleanups[instantEffectId]();\n            currentStore.instantCleanups[instantEffectId] = undefined;\n          }\n        }\n\n        if (!currentStore.instantCleanups) {\n          currentStore.instantCleanups = [];\n        }\n\n        currentStore.instantCleanups[instantEffectId] = fn();\n      };\n\n      instantEffect[0]();\n      instantEffect[0] = null;\n      instantEffect[1] = guards;\n    }\n\n    currentStore.currentAdaptationIds.instantEffect++;\n  } else {\n    throw new Error(\n      \"adaptInstantEffect() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nexport default adaptInstantEffect;\n","import { getCurrentStore } from \"./adaptations\";\nimport guardsChanged from \"./guardsChanged\";\n\nfunction adaptInvocationEffect(fn, guards) {\n  const currentStore = getCurrentStore();\n\n  if (currentStore && !currentStore.invocationEffects) {\n    currentStore.invocationEffects = [];\n    currentStore.currentAdaptationIds.invocationEffect = 0;\n  }\n\n  if (currentStore) {\n    if (\n      !(\n        currentStore.currentAdaptationIds.invocationEffect in\n        currentStore.invocationEffects\n      )\n    ) {\n      currentStore.invocationEffects[\n        currentStore.currentAdaptationIds.invocationEffect\n      ] = [];\n    }\n\n    let invocationEffectId = currentStore.currentAdaptationIds.invocationEffect;\n    let invocationEffect = currentStore.invocationEffects[invocationEffectId];\n\n    if (guardsChanged(invocationEffect[1], guards)) {\n      invocationEffect[0] = () => {\n        if (currentStore.invocationCleanups) {\n          if (\n            typeof currentStore.invocationCleanups[invocationEffectId] ==\n            \"function\"\n          ) {\n            currentStore.invocationCleanups[invocationEffectId]();\n            currentStore.invocationCleanups[invocationEffectId] = undefined;\n          }\n        }\n\n        if (!currentStore.invocationCleanups) {\n          currentStore.invocationCleanups = [];\n        }\n\n        currentStore.invocationCleanups[invocationEffectId] = fn();\n      };\n\n      const invocationEffectStore = invocationEffect[0];\n      addInvocationEffect(invocationEffectStore);\n      invocationEffect[0] = null;\n      invocationEffect[1] = guards;\n    }\n\n    currentStore.currentAdaptationIds.invocationEffect++;\n  } else {\n    throw new Error(\n      \"adaptInvocationEffect() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nconst invocationEffectArray1 = [];\nconst invocationEffectArray2 = [];\nlet one = true;\n\nfunction addInvocationEffect(effect) {\n  if (one) {\n    invocationEffectArray1.push(effect);\n\n    if (invocationEffectArray1.length === 1) {\n      queueMicrotask(() => {\n        one = false;\n        invocationEffectArray1.forEach((effect) => effect());\n        invocationEffectArray1.length = 0;\n      });\n    }\n  } else {\n    invocationEffectArray2.push(effect);\n\n    if (invocationEffectArray2.length === 1) {\n      queueMicrotask(() => {\n        one = true;\n        invocationEffectArray2.forEach((effect) => effect());\n        invocationEffectArray2.length = 0;\n      });\n    }\n  }\n}\n\nexport default adaptInvocationEffect;\n","import { getCurrentStore } from \"./adaptations\";\nimport guardsChanged from \"./guardsChanged\";\n\nfunction adaptMemo(fn, guards) {\n  const currentStore = getCurrentStore();\n\n  if (currentStore && !currentStore.memos) {\n    currentStore.memos = [];\n    currentStore.currentAdaptationIds.memo = 0;\n  }\n\n  if (!guards) {\n    guards = [fn];\n  }\n\n  if (currentStore) {\n    if (!(currentStore.currentAdaptationIds.memo in currentStore.memos)) {\n      currentStore.memos[currentStore.currentAdaptationIds.memo] = [];\n    }\n\n    let memo = currentStore.memos[currentStore.currentAdaptationIds.memo];\n\n    if (guardsChanged(memo[1], guards)) {\n      memo[0] = fn();\n      memo[1] = guards;\n    }\n\n    currentStore.currentAdaptationIds.memo++;\n    return memo[0];\n  } else {\n    throw new Error(\n      \"adaptMemo() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nexport default adaptMemo;\n","import adaptMemo from \"./adaptMemo\";\nimport { getCurrentStore } from \"./adaptations\";\n\nfunction adaptCallback(fn, inputGuards) {\n  const currentStore = getCurrentStore();\n\n  if (currentStore) {\n    return adaptMemo(() => {\n      return fn;\n    }, inputGuards);\n  } else {\n    throw new Error(\n      \"adaptCallback() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nexport default adaptCallback;\n","import {\n  getCurrentStore,\n  getCurrentStoreId,\n  renderComponent,\n} from \"./adaptations\";\n\nfunction adaptFunction(eventArrayOrFuntion, ...setupEventArgs) {\n  const currentStore = getCurrentStore();\n  const currentStoreId = getCurrentStoreId();\n\n  if (currentStore && !currentStore.events) {\n    currentStore.events = [];\n    currentStore.currentAdaptationIds.event = 0;\n  }\n\n  if (currentStore) {\n    if (!(currentStore.currentAdaptationIds.event in currentStore.events)) {\n      currentStore.events[currentStore.currentAdaptationIds.event] = [];\n\n      let event = currentStore.events[currentStore.currentAdaptationIds.event];\n      event[0] = (...invocationEventArgs) =>\n        emitEvent(\n          eventArrayOrFuntion,\n          currentStoreId,\n          event[1],\n          invocationEventArgs\n        );\n    }\n    let event = currentStore.events[currentStore.currentAdaptationIds.event];\n    event[1] = setupEventArgs;\n\n    currentStore.currentAdaptationIds.event++;\n    return event[0];\n  } else {\n    throw new Error(\n      \"adaptFunction() can only be used inside a Component or a Custom Adaptation.\"\n    );\n  }\n}\n\nfunction emitEvent(\n  eventArrayOrFuntion,\n  currentStoreId,\n  setupEventArgs,\n  invocationEventArgs\n) {\n  if (eventArrayOrFuntion) {\n    if (typeof eventArrayOrFuntion == \"function\")\n      eventArrayOrFuntion(...setupEventArgs, ...invocationEventArgs);\n    else\n      eventArrayOrFuntion.forEach((event) => {\n        event === \"render\" || event === \"update\"\n          ? renderComponent(currentStoreId)\n          : event(...setupEventArgs, ...invocationEventArgs);\n      });\n  } else {\n    renderComponent(currentStoreId);\n  }\n}\n\nexport default adaptFunction;\n"],"names":[],"version":3,"file":"nqtui.js.map","sourceRoot":"/"}