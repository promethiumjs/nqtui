{"mappings":"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","sources":["src/nqtui.js","src/Component.js","src/$.js","src/adaptations/adaptations.js","src/adaptations/adaptState.js","src/adaptations/adaptRef.js","src/adaptations/adaptEffect.js","src/adaptations/guardsChanged.js","src/adaptations/adaptInstantEffect.js","src/adaptations/adaptInvocationEffect.js","src/adaptations/adaptMemo.js","src/adaptations/adaptCallback.js","src/adaptations/adaptFunction.js"],"sourcesContent":["import Component from \"./Component.js\";\r\nimport $ from \"./$.js\";\r\nimport { html } from \"lit-html\";\r\nimport { classMap } from \"lit-html/directives/class-map.js\";\r\nimport { styleMap } from \"lit-html/directives/style-map.js\";\r\nimport { guard } from \"lit-html/directives/guard.js\";\r\nimport { cache } from \"lit-html/directives/cache.js\";\r\nimport { repeat } from \"lit-html/directives/repeat.js\";\r\nimport { live } from \"lit-html/directives/live.js\";\r\nimport { ifDefined } from \"lit-html/directives/if-defined.js\";\r\nimport { ref } from \"lit-html/directives/ref.js\";\r\nimport { createRef } from \"lit-html/directives/ref.js\";\r\nimport { until } from \"lit-html/directives/until.js\";\r\nimport { asyncAppend } from \"lit-html/directives/async-append.js\";\r\nimport { asyncReplace } from \"lit-html/directives/async-replace.js\";\r\nimport {\r\n  adaptStore,\r\n  releaseCurrentStore,\r\n  detonateStore,\r\n} from \"./adaptations/adaptations.js\";\r\nimport adaptState from \"./adaptations/adaptState.js\";\r\nimport adaptRef from \"./adaptations/adaptRef.js\";\r\nimport adaptEffect from \"./adaptations/adaptEffect.js\";\r\nimport adaptInstantEffect from \"./adaptations/adaptInstantEffect.js\";\r\nimport adaptInvocationEffect from \"./adaptations/adaptInvocationEffect.js\";\r\nimport adaptMemo from \"./adaptations/adaptMemo.js\";\r\nimport adaptCallback from \"./adaptations/adaptCallback.js\";\r\nimport adaptFunction from \"./adaptations/adaptFunction.js\";\r\n\r\nexport {\r\n  Component,\r\n  $,\r\n  html,\r\n  classMap,\r\n  styleMap,\r\n  guard,\r\n  cache,\r\n  repeat,\r\n  live,\r\n  ifDefined,\r\n  ref,\r\n  createRef,\r\n  until,\r\n  asyncAppend,\r\n  asyncReplace,\r\n  adaptStore as adapt,\r\n  releaseCurrentStore as release,\r\n  detonateStore as detonate,\r\n  adaptState,\r\n  adaptRef,\r\n  adaptEffect,\r\n  adaptInstantEffect,\r\n  adaptInvocationEffect,\r\n  adaptMemo,\r\n  adaptCallback,\r\n  adaptFunction,\r\n};\r\n","import { render, html } from \"lit-html\";\r\nimport $ from \"./$\";\r\nimport {\r\n  releaseCurrentStore,\r\n  getCurrentStore,\r\n  getCurrentStoreId,\r\n  renderComponent,\r\n  getPreventMultipleRenders,\r\n  setPreventMultipleRenders,\r\n} from \"./adaptations/adaptations\";\r\n\r\nexport default class Component {\r\n  constructor(props) {\r\n    //initialize component with props.\r\n    this.props = props || {};\r\n  }\r\n\r\n  static createFromObject(object) {\r\n    class NewClassComponent extends Component {\r\n      constructor(props) {\r\n        super(props);\r\n\r\n        let objectKeys = Object.keys(object);\r\n\r\n        objectKeys.forEach((objectKey) => {\r\n          this[objectKey] = object[objectKey];\r\n        });\r\n      }\r\n    }\r\n\r\n    return NewClassComponent;\r\n  }\r\n\r\n  static createRoot(component, props) {\r\n    //check whether or not \"renderContainer\" is a string and handle it\r\n    //accordingly.\r\n    if (\r\n      typeof props.renderContainer === \"string\" ||\r\n      props.renderContainer instanceof String\r\n    )\r\n      props.renderContainer = document.querySelector(props.renderContainer);\r\n\r\n    const renderComponent = () =>\r\n      render(\r\n        (() => html` ${$(component, props)}`)(),\r\n        props.renderContainer,\r\n        props.renderOptions\r\n      );\r\n\r\n    //queue microtask to render the component to enable all extensions to run first.\r\n    queueMicrotask(renderComponent);\r\n\r\n    //release the reference to the current store.\r\n    releaseCurrentStore();\r\n\r\n    //return \"renderComponet\" function to allow re-rendering of whole root\r\n    //component tree.\r\n    return renderComponent;\r\n  }\r\n\r\n  static use(extension) {\r\n    extension.addAdaptationMethods({\r\n      getCurrentStore,\r\n      getCurrentStoreId,\r\n      renderComponent,\r\n      getPreventMultipleRenders,\r\n      setPreventMultipleRenders,\r\n    });\r\n  }\r\n\r\n  addProps(props) {\r\n    Object.assign(this.props, props);\r\n\r\n    return this;\r\n  }\r\n\r\n  render(container, renderOptions) {\r\n    if (renderOptions) {\r\n      render(this.construct(), container, renderOptions);\r\n    } else {\r\n      render(this.construct(), container);\r\n    }\r\n  }\r\n}\r\n\r\nComponent.prototype.isClassComponent = true;\r\n","import { AsyncDirective, directive } from \"lit-html/async-directive.js\";\r\nimport {\r\n  adaptStore,\r\n  detonateStore,\r\n  getPreventMultipleRenders,\r\n} from \"./adaptations/adaptations\";\r\nimport { noChange } from \"lit-html\";\r\n\r\nclass $$ extends AsyncDirective {\r\n  constructor(part) {\r\n    super(part);\r\n\r\n    //boolean flag to enable initialization of the\r\n    //component in the update method.\r\n    this.initialization = true;\r\n  }\r\n\r\n  initializeComponent(Component, props, parent) {\r\n    //check if component is class component and add an instance of it to the directive\r\n    //instance as its associated component.\r\n    if (Component.prototype && Component.prototype.isClassComponent) {\r\n      this.ClassComponent = new Component(props);\r\n    }\r\n\r\n    this.Component = (props) => {\r\n      if (this.ClassComponent) {\r\n        this.ClassComponent.addProps(props);\r\n        this.ClassComponent.parent = parent;\r\n      }\r\n\r\n      //prepare adaptation store for component.\r\n      adaptStore(this);\r\n\r\n      //check \"preventMultipleRenders\" flag to prevent multiple redundant\r\n      //re-rendering of components.\r\n      //return component's return value to be rendered.\r\n      if (!getPreventMultipleRenders())\r\n        return this.ClassComponent\r\n          ? this.ClassComponent.construct({ parent, ...props })\r\n          : Component({ parent, ...props });\r\n      else if (this.changed) {\r\n        this.changed = false;\r\n        queueMicrotask(() => (this.changed = true));\r\n\r\n        return this.ClassComponent\r\n          ? this.ClassComponent.construct({ parent, ...props })\r\n          : Component({ parent, ...props });\r\n      } else {\r\n        return noChange;\r\n      }\r\n    };\r\n\r\n    //initialize \"changed\" flag as true.\r\n    this.changed = true;\r\n    //prevent re-initialization of component on subsequent renders after\r\n    //initialization.\r\n    this.initialization = false;\r\n  }\r\n\r\n  disconnected() {\r\n    //call pending cleanups and destroy component adaptation store.\r\n    detonateStore(this);\r\n  }\r\n\r\n  update(part, [Component, props]) {\r\n    //initialize component on first render\r\n    if (this.initialization) {\r\n      this.initializeComponent(Component, props, part.parentNode);\r\n    }\r\n\r\n    //keep old props to enable reuse when updating the component independently of it's\r\n    //parent.\r\n    this.oldProps = props;\r\n    return this.render(Component, props, part.parentNode);\r\n  }\r\n\r\n  render(Component, props, parent) {\r\n    return this.Component(props);\r\n  }\r\n}\r\n\r\nconst $ = directive($$);\r\n\r\nexport default $;\r\n","//use WeakMap to store adaptation stores for more memory efficiency and\r\n//potentially faster access time for stores.\r\nconst stores = new WeakMap();\r\nlet currentStore;\r\nlet currentStoreId;\r\n\r\nfunction adaptStore(storeId) {\r\n  //create adaptation store if it doesn't exist and add up.\r\n  if (!stores.has(storeId)) {\r\n    const store = {\r\n      currentAdaptationIds: {},\r\n    };\r\n\r\n    stores.set(storeId, store);\r\n  }\r\n\r\n  //prepare adaptation store and its id for access.\r\n  currentStore = stores.get(storeId);\r\n  currentStoreId = storeId;\r\n\r\n  //reset adaptation ids to enable adaptation data to be accessed in the\r\n  //right order.\r\n  Object.keys(currentStore.currentAdaptationIds).forEach(\r\n    (id) => (currentStore.currentAdaptationIds[id] = 0)\r\n  );\r\n}\r\n\r\nfunction getCurrentStore() {\r\n  return currentStore;\r\n}\r\n\r\nfunction getCurrentStoreId() {\r\n  return currentStoreId;\r\n}\r\n\r\nfunction getStore(storeId) {\r\n  return stores.get(storeId);\r\n}\r\n\r\nfunction releaseCurrentStore() {\r\n  currentStore = null;\r\n  currentStoreId = null;\r\n}\r\n\r\n//call all pending store cleanups and destroy store.\r\nfunction detonateStore(storeId) {\r\n  const currentStore = getStore(storeId);\r\n\r\n  if (currentStore.instantCleanups) {\r\n    currentStore.instantCleanups.forEach(\r\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\r\n    );\r\n  }\r\n\r\n  if (currentStore.invocationCleanups) {\r\n    currentStore.invocationCleanups.forEach(\r\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\r\n    );\r\n  }\r\n\r\n  if (currentStore.asyncCleanups) {\r\n    currentStore.asyncCleanups.forEach(\r\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\r\n    );\r\n  }\r\n\r\n  if (currentStore.particleCleanups) {\r\n    currentStore.particleCleanups.forEach(\r\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\r\n    );\r\n  }\r\n\r\n  if (currentStore.derivativeCleanups) {\r\n    currentStore.derivativeCleanups.forEach(\r\n      (cleanup) => typeof cleanup == \"function\" && cleanup()\r\n    );\r\n  }\r\n\r\n  stores.delete(storeId);\r\n}\r\n\r\n//render associated component when called with store ids of components.\r\n//when called with store ids of custom adaptations and other non-components,\r\n//call their update function.\r\nfunction renderComponent(storeId) {\r\n  if (storeId.Component) {\r\n    storeId.setValue(storeId.Component(storeId.oldProps));\r\n    releaseCurrentStore();\r\n  }\r\n}\r\n\r\nlet preventMultipleRenders = false;\r\n\r\nfunction getPreventMultipleRenders() {\r\n  return preventMultipleRenders;\r\n}\r\n\r\nfunction setPreventMultipleRenders(boolean) {\r\n  preventMultipleRenders = boolean;\r\n}\r\n\r\nexport {\r\n  adaptStore,\r\n  releaseCurrentStore,\r\n  detonateStore,\r\n  getCurrentStore,\r\n  getCurrentStoreId,\r\n  getStore,\r\n  renderComponent,\r\n  getPreventMultipleRenders,\r\n  setPreventMultipleRenders,\r\n};\r\n","import {\r\n  getCurrentStore,\r\n  getCurrentStoreId,\r\n  renderComponent,\r\n} from \"./adaptations\";\r\n\r\nfunction commonSetStateFunctionality(effectArrayOrFunction, currentStoreId) {\r\n  if (effectArrayOrFunction) {\r\n    if (typeof effectArrayOrFunction == \"function\") {\r\n      effectArrayOrFunction();\r\n    } else {\r\n      effectArrayOrFunction.forEach((effect) => {\r\n        if (effect.fn) {\r\n          typeof effect.fn == \"function\"\r\n            ? effect.fn(...effect.args)\r\n            : effect.fn === \"render\" && renderComponent(currentStoreId);\r\n        } else {\r\n          typeof effect == \"function\"\r\n            ? effect()\r\n            : effect === \"render\" && renderComponent(currentStoreId);\r\n        }\r\n      });\r\n    }\r\n  } else {\r\n    renderComponent(currentStoreId);\r\n  }\r\n}\r\n\r\nfunction adaptState(initialStateValue, mode) {\r\n  const currentStore = getCurrentStore();\r\n  const currentStoreId = getCurrentStoreId();\r\n\r\n  if (currentStore && !currentStore.states) {\r\n    currentStore.states = [];\r\n    currentStore.currentAdaptationIds.state = 0;\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (!(currentStore.currentAdaptationIds.state in currentStore.states)) {\r\n      let stateValue =\r\n        typeof initialStateValue == \"function\"\r\n          ? initialStateValue()\r\n          : initialStateValue;\r\n\r\n      let setStateFunction;\r\n      if (!mode) {\r\n        setStateFunction = (newStateValue, effectArray) => {\r\n          state[0] =\r\n            typeof newStateValue == \"function\"\r\n              ? newStateValue(state[0])\r\n              : newStateValue;\r\n\r\n          commonSetStateFunctionality(effectArray, currentStoreId);\r\n        };\r\n      } else if (mode === \"getter\") {\r\n        setStateFunction = (newStateValue, effectArray) => {\r\n          state[2] =\r\n            typeof newStateValue == \"function\"\r\n              ? newStateValue(state[2])\r\n              : newStateValue;\r\n\r\n          commonSetStateFunctionality(effectArray, currentStoreId);\r\n        };\r\n      } else if (mode === \"unified\") {\r\n        setStateFunction = (newStateValue, effectArray) => {\r\n          Object.assign(state[0], newStateValue);\r\n\r\n          commonSetStateFunctionality(effectArray, currentStoreId);\r\n        };\r\n      }\r\n\r\n      let state;\r\n      if (!mode || mode === \"unified\") {\r\n        state = [stateValue, setStateFunction];\r\n      } else if (mode === \"getter\") {\r\n        state = [() => state[2], setStateFunction, stateValue];\r\n      }\r\n\r\n      currentStore.states[currentStore.currentAdaptationIds.state] = state;\r\n    }\r\n\r\n    return currentStore.states[currentStore.currentAdaptationIds.state++];\r\n  } else {\r\n    throw new Error(\r\n      \"adaptState() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default adaptState;\r\n","import { getCurrentStore } from \"./adaptations\";\r\n\r\nfunction adaptRef(initialRefValue) {\r\n  const currentStore = getCurrentStore();\r\n\r\n  if (currentStore && !currentStore.refs) {\r\n    currentStore.refs = [];\r\n    currentStore.currentAdaptationIds.ref = 0;\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (!(currentStore.currentAdaptationIds.ref in currentStore.refs)) {\r\n      let ref = initialRefValue;\r\n\r\n      currentStore.refs[currentStore.currentAdaptationIds.ref] = ref;\r\n    }\r\n\r\n    return currentStore.refs[currentStore.currentAdaptationIds.ref++];\r\n  } else {\r\n    throw new Error(\r\n      \"adaptRef() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default adaptRef;\r\n","import { getCurrentStore } from \"./adaptations\";\r\nimport guardsChanged from \"./guardsChanged\";\r\n\r\nfunction adaptEffect(fn, guards) {\r\n  const currentStore = getCurrentStore();\r\n\r\n  if (currentStore && !currentStore.asyncEffects) {\r\n    currentStore.asyncEffects = [];\r\n    currentStore.currentAdaptationIds.asyncEffect = 0;\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (\r\n      !(\r\n        currentStore.currentAdaptationIds.asyncEffect in\r\n        currentStore.asyncEffects\r\n      )\r\n    ) {\r\n      currentStore.asyncEffects[currentStore.currentAdaptationIds.asyncEffect] =\r\n        [];\r\n    }\r\n\r\n    let asyncEffectId = currentStore.currentAdaptationIds.asyncEffect;\r\n    let asyncEffect = currentStore.asyncEffects[asyncEffectId];\r\n\r\n    if (guardsChanged(asyncEffect[1], guards)) {\r\n      asyncEffect[0] = () => {\r\n        if (currentStore.asyncCleanups) {\r\n          if (typeof currentStore.asyncCleanups[asyncEffectId] == \"function\") {\r\n            currentStore.asyncCleanups[asyncEffectId]();\r\n            currentStore.asyncCleanups[asyncEffectId] = undefined;\r\n          }\r\n        }\r\n\r\n        if (!currentStore.asyncCleanups) {\r\n          currentStore.asyncCleanups = [];\r\n        }\r\n\r\n        currentStore.asyncCleanups[asyncEffectId] = fn();\r\n      };\r\n\r\n      addAsyncEffect(asyncEffect[0]);\r\n      asyncEffect[0] = null;\r\n      asyncEffect[1] = guards;\r\n    }\r\n\r\n    currentStore.currentAdaptationIds.asyncEffect++;\r\n  } else {\r\n    throw new Error(\r\n      \"adaptEffect() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nconst asyncEffectAndCleanupArray = [];\r\n\r\nfunction addAsyncEffect(effect) {\r\n  asyncEffectAndCleanupArray.push(effect);\r\n\r\n  if (asyncEffectAndCleanupArray.length === 1) {\r\n    setTimeout(() => {\r\n      const newEffectAndCleanupArray = [...asyncEffectAndCleanupArray];\r\n      asyncEffectAndCleanupArray.length = 0;\r\n      newEffectAndCleanupArray.forEach((effect) => effect());\r\n    });\r\n  }\r\n}\r\n\r\nexport default adaptEffect;\r\n","function guardsChanged(guards1, guards2) {\r\n  if (!guards1 || !guards2) {\r\n    return true;\r\n  }\r\n\r\n  if (guards1.length !== guards2.length) {\r\n    return true;\r\n  }\r\n\r\n  let guardLength = guards1.length;\r\n  for (let i = 0; i < guardLength; i++) {\r\n    if (!(guards1[i] === guards2[i])) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport default guardsChanged;\r\n","import { getCurrentStore } from \"./adaptations\";\r\nimport guardsChanged from \"./guardsChanged\";\r\n\r\nfunction adaptInstantEffect(fn, guards) {\r\n  const currentStore = getCurrentStore();\r\n\r\n  if (currentStore && !currentStore.instantEffects) {\r\n    currentStore.instantEffects = [];\r\n    currentStore.currentAdaptationIds.instantEffect = 0;\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (\r\n      !(\r\n        currentStore.currentAdaptationIds.instantEffect in\r\n        currentStore.instantEffects\r\n      )\r\n    ) {\r\n      currentStore.instantEffects[\r\n        currentStore.currentAdaptationIds.instantEffect\r\n      ] = [];\r\n    }\r\n\r\n    let instantEffectId = currentStore.currentAdaptationIds.instantEffect;\r\n    let instantEffect = currentStore.instantEffects[instantEffectId];\r\n\r\n    if (guardsChanged(instantEffect[1], guards)) {\r\n      instantEffect[0] = () => {\r\n        if (currentStore.instantCleanups) {\r\n          if (\r\n            typeof currentStore.instantCleanups[instantEffectId] == \"function\"\r\n          ) {\r\n            currentStore.instantCleanups[instantEffectId]();\r\n            currentStore.instantCleanups[instantEffectId] = undefined;\r\n          }\r\n        }\r\n\r\n        if (!currentStore.instantCleanups) {\r\n          currentStore.instantCleanups = [];\r\n        }\r\n\r\n        currentStore.instantCleanups[instantEffectId] = fn();\r\n      };\r\n\r\n      instantEffect[0]();\r\n      instantEffect[0] = null;\r\n      instantEffect[1] = guards;\r\n    }\r\n\r\n    currentStore.currentAdaptationIds.instantEffect++;\r\n  } else {\r\n    throw new Error(\r\n      \"adaptInstantEffect() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default adaptInstantEffect;\r\n","import { getCurrentStore } from \"./adaptations\";\r\nimport guardsChanged from \"./guardsChanged\";\r\n\r\nfunction adaptInvocationEffect(fn, guards) {\r\n  const currentStore = getCurrentStore();\r\n\r\n  if (currentStore && !currentStore.invocationEffects) {\r\n    currentStore.invocationEffects = [];\r\n    currentStore.currentAdaptationIds.invocationEffect = 0;\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (\r\n      !(\r\n        currentStore.currentAdaptationIds.invocationEffect in\r\n        currentStore.invocationEffects\r\n      )\r\n    ) {\r\n      currentStore.invocationEffects[\r\n        currentStore.currentAdaptationIds.invocationEffect\r\n      ] = [];\r\n    }\r\n\r\n    let invocationEffectId = currentStore.currentAdaptationIds.invocationEffect;\r\n    let invocationEffect = currentStore.invocationEffects[invocationEffectId];\r\n\r\n    if (guardsChanged(invocationEffect[1], guards)) {\r\n      invocationEffect[0] = () => {\r\n        if (currentStore.invocationCleanups) {\r\n          if (\r\n            typeof currentStore.invocationCleanups[invocationEffectId] ==\r\n            \"function\"\r\n          ) {\r\n            currentStore.invocationCleanups[invocationEffectId]();\r\n            currentStore.invocationCleanups[invocationEffectId] = undefined;\r\n          }\r\n        }\r\n\r\n        if (!currentStore.invocationCleanups) {\r\n          currentStore.invocationCleanups = [];\r\n        }\r\n\r\n        currentStore.invocationCleanups[invocationEffectId] = fn();\r\n      };\r\n\r\n      const invocationEffectStore = invocationEffect[0];\r\n      queueMicrotask(() => invocationEffectStore());\r\n      invocationEffect[0] = null;\r\n      invocationEffect[1] = guards;\r\n    }\r\n\r\n    currentStore.currentAdaptationIds.invocationEffect++;\r\n  } else {\r\n    throw new Error(\r\n      \"adaptInvocationEffect() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default adaptInvocationEffect;\r\n","import { getCurrentStore } from \"./adaptations\";\r\nimport guardsChanged from \"./guardsChanged\";\r\n\r\nfunction adaptMemo(fn, guards) {\r\n  const currentStore = getCurrentStore();\r\n\r\n  if (currentStore && !currentStore.memos) {\r\n    currentStore.memos = [];\r\n    currentStore.currentAdaptationIds.memo = 0;\r\n  }\r\n\r\n  if (!guards) {\r\n    guards = [fn];\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (!(currentStore.currentAdaptationIds.memo in currentStore.memos)) {\r\n      currentStore.memos[currentStore.currentAdaptationIds.memo] = [];\r\n    }\r\n\r\n    let memo = currentStore.memos[currentStore.currentAdaptationIds.memo];\r\n\r\n    if (guardsChanged(memo[1], guards)) {\r\n      memo[0] = fn();\r\n      memo[1] = guards;\r\n    }\r\n\r\n    currentStore.currentAdaptationIds.memo++;\r\n    return memo[0];\r\n  } else {\r\n    throw new Error(\r\n      \"adaptMemo() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default adaptMemo;\r\n","import adaptMemo from \"./adaptMemo\";\r\nimport { getCurrentStore } from \"./adaptations\";\r\n\r\nfunction adaptCallback(fn, inputGuards) {\r\n  const currentStore = getCurrentStore();\r\n\r\n  if (currentStore) {\r\n    return adaptMemo(() => {\r\n      return fn;\r\n    }, inputGuards);\r\n  } else {\r\n    throw new Error(\r\n      \"adaptCallback() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nexport default adaptCallback;\r\n","import {\r\n  getCurrentStore,\r\n  getCurrentStoreId,\r\n  renderComponent,\r\n} from \"./adaptations\";\r\n\r\nfunction adaptFunction(eventArrayOrFuntion, ...setupEventArgs) {\r\n  const currentStore = getCurrentStore();\r\n  const currentStoreId = getCurrentStoreId();\r\n\r\n  if (currentStore && !currentStore.events) {\r\n    currentStore.events = [];\r\n    currentStore.currentAdaptationIds.event = 0;\r\n  }\r\n\r\n  if (currentStore) {\r\n    if (!(currentStore.currentAdaptationIds.event in currentStore.events)) {\r\n      currentStore.events[currentStore.currentAdaptationIds.event] = [];\r\n\r\n      let event = currentStore.events[currentStore.currentAdaptationIds.event];\r\n      event[0] = (...invocationEventArgs) =>\r\n        emitEvent(\r\n          eventArrayOrFuntion,\r\n          currentStoreId,\r\n          event[1],\r\n          invocationEventArgs\r\n        );\r\n    }\r\n    let event = currentStore.events[currentStore.currentAdaptationIds.event];\r\n    event[1] = setupEventArgs;\r\n\r\n    currentStore.currentAdaptationIds.event++;\r\n    return event[0];\r\n  } else {\r\n    throw new Error(\r\n      \"adaptFunction() can only be used inside a Component or a Custom Adaptation.\"\r\n    );\r\n  }\r\n}\r\n\r\nfunction emitEvent(\r\n  eventArrayOrFuntion,\r\n  currentStoreId,\r\n  setupEventArgs,\r\n  invocationEventArgs\r\n) {\r\n  if (eventArrayOrFuntion) {\r\n    if (typeof eventArrayOrFuntion == \"function\")\r\n      eventArrayOrFuntion(...setupEventArgs, ...invocationEventArgs);\r\n    else\r\n      eventArrayOrFuntion.forEach((event) => {\r\n        typeof event == \"function\"\r\n          ? event(...setupEventArgs, ...invocationEventArgs)\r\n          : event === \"render\" && renderComponent(currentStoreId);\r\n      });\r\n  } else {\r\n    renderComponent(currentStoreId);\r\n  }\r\n}\r\n\r\nexport default adaptFunction;\r\n"],"names":[],"version":3,"file":"nqtui.js.map"}